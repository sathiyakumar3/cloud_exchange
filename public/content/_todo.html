<!DOCTYPE html>
<html lang=en>

<head></head>
<!-- <script>
	$('#pie_chart_4').easyPieChart({
		barColor: 'rgba(17,157,210,1)', lineWidth: 20, animate: 1000, rotate: 0, update: 0, size: 165, lineCap: 'round', trackColor: 'rgba(33,33,33,0.1)', scaleColor: !1,
		onStep: function (from, to, percent) { $(this.el).find('.percent').text(Math.round(percent)) }
	});</script>

<body>
	<div class="container-fluid pt-10">
		<div class=row>
			<div class="col-lg-3 col-xs-12">
				<h5 class="txt-dark">Welcome back,</h5>
			</div>
		</div>
		<br />
		<div class="row">
			<div class="col-sm-12">
				<div class="panel panel-default card-view">
					<div class="panel-heading">
						<div class="pull-left">
							<h6 class="panel-title txt-dark">Discussion 2 Board</h6>
						</div>
						<div class="pull-right">

							<a href="javascript:init_table()" class="pull-left inline-block refresh mr-15">
								<i class="zmdi zmdi-replay"></i>
							</a>
							<a href="#" class="pull-left inline-block full-screen mr-15">
								<i class="zmdi zmdi-fullscreen"></i>
							</a>

						</div>

					</div>
					<div class="panel-wrapper collapse in">
						<div class="panel-body">
							<div class="pills-struct">
								<ul role="tablist" class="nav nav-pills nav-pills-rounded" id="myTabs_12"></ul>

								<div class="tab-content" id="myTabContent_12"></div>
							</div>
						</div>
					</div>
				</div>
			</div>

		</div>

		<!-- Row -->
		<!-- <div class="row">
			<div class="col-sm-12">
				<div class="panel panel-default card-view">
					<div class="panel-heading">
						<div class="pull-left">
							<h6 class="panel-title txt-dark">editable table with datatable</h6>
						</div>
						<div class="clearfix"></div>
					</div>
					<div class="panel-wrapper collapse in">
						<div class="panel-body">
							<p class="text-muted">Editable table with fixed constraint.</p>
							<div class="table-wrap mt-40">
								<div class="table-responsive">
									<table id="edit_datable_1" class="table table-hover display mb-30">
										<thead>
											<tr>
												<th>Name</th>
												<th>Position</th>
												<th>Salary</th>
												<th>Office</th>
												<th>Extn.</th>
												<th>E-mail</th>
												<th></th>
											</tr>
										</thead>
										<tbody>
											<tr>
												<form>
												<td>Tiger Nixon</td>
												<td>System Architect</td>
												<td>$320,800</td>
												<td>Edinburgh</td>
												<td>5421</td>
												<td>t.nixon@datatables.net</td>
												<td><button class="btn btn-success btn-small">Save</button></td>
											</form>
											</tr>
											<tr>
												<td>Garrett Winters</td>
												<td>Accountant</td>
												<td>$170,750</td>
												<td>Tokyo</td>
												<td>8422</td>
												<td>g.winters@datatables.net</td>
											</tr>
											<tr>
												<td>Ashton Cox</td>
												<td>Junior Technical Author</td>
												<td>$86,000</td>
												<td>San Francisco</td>
												<td>1562</td>
												<td>a.cox@datatables.net</td>
											</tr>
											<tr>
												<td>Cedric Kelly</td>
												<td>Senior Javascript Developer</td>
												<td>$433,060</td>
												<td>Edinburgh</td>
												<td>6224</td>
												<td>c.kelly@datatables.net</td>
											</tr>
										</tbody>
									</table>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- /Row
		<div class="row">
			<div class="col-sm-12">
				<div class="panel panel-default card-view">
					<div class="panel-heading">
						<div class="pull-left">
							<h6 class="panel-title txt-dark">editable table with datatable</h6>
						</div>
						<div class="clearfix"></div>
					</div>
					<div class="panel-wrapper collapse in">
						<div class="panel-body">
							<p class="text-muted">Editable table with fixed constraint.</p>
							<div class="table-wrap mt-40">
								<div class="table-responsive">
									<table id="edit_datable_2" class="table table-hover display mb-30">
										<thead>
											<tr>
												<th>Name</th>
												<th>Position</th>
												<th>Salary</th>
												<th>Office</th>
												<th>Extn.</th>
												<th>E-mail</th>
											</tr>
										</thead>
										<tbody>
											<tr>
												<td>Tiger Nixon</td>
												<td>System Architect</td>
												<td>$320,800</td>
												<td>Edinburgh</td>
												<td>5421</td>
												<td>t.nixon@datatables.net</td>
											</tr>
											<tr>
												<td>Garrett Winters</td>
												<td>Accountant</td>
												<td>$170,750</td>
												<td>Tokyo</td>
												<td>8422</td>
												<td>g.winters@datatables.net</td>
											</tr>
											<tr>
												<td>Ashton Cox</td>
												<td>Junior Technical Author</td>
												<td>$86,000</td>
												<td>San Francisco</td>
												<td>1562</td>
												<td>a.cox@datatables.net</td>
											</tr>
											<tr>
												<td>Cedric Kelly</td>
												<td>Senior Javascript Developer</td>
												<td>$433,060</td>
												<td>Edinburgh</td>
												<td>6224</td>
												<td>c.kelly@datatables.net</td>
											</tr>
										</tbody>
									</table>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

	</div>


	<div class="modal fade" id="myModalvdt2" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-body">
					<div class="modal-header"><button type="button" class="close" data-dismiss="modal"
							aria-hidden="true">Ã—</button>
						<h5 class="modal-title"><strong>&nbsp;&nbsp;Add Comment</strong></h5>
					</div>
					<div class="col-lg-12 col-sm-12"><br><label class="control-label mb-10 text-left">Your
							input</label><textarea class="form-control" id="vdtText2"></textarea></div>
				</div>
				<div class="modal-footer">
					<div class="col-lg-12 col-sm-12"><br><button type="button" class="btn btn-default btn-rounded"
							data-dismiss="modal">Close</button><button type="button" class="btn btn-primary btn-rounded"
							data-dismiss="modal" onclick="verdict_saver()">Save changes</button></div>
				</div>
			</div>
		</div>
	</div>

	<script>
		$('#edit_datable_1').editableTableWidget().varcharInputExample().find('td:first').focus();
		$('#edit_datable_2').editableTableWidget().varcharInputExample().find('td:first').focus();

	</script>
-->



	<script type="text/javascript">
	$(document).ready(function($)
	{
		//ajax row data
		var ajax_data =
		[
			{fname:"Code", lname:"With Mark", email:"mark@codewithmark.com"},
			{fname:"Mary", lname:"Moe", email:"mary@gmail.com"},
			{fname:"John", lname:"Doe", email:"john@yahoo.com"},
			{fname:"Julie", lname:"Dooley", email:"julie@gmail.com"},
		]



		var random_id = function  ()
		{
			var id_num = Math.random().toString(9).substr(2,3);
			var id_str = Math.random().toString(36).substr(2);

			return id_num + id_str;
		}


		//--->create data table > start
		var tbl = '';
		tbl +='<table class="table table-hover">'

			//--->create table header > start
			tbl +='<thead>';
				tbl +='<tr>';
				tbl +='<th>First Name</th>';
				tbl +='<th>Last Name</th>';
				tbl +='<th>Email</th>';
				tbl +='<th>Options</th>';
				tbl +='</tr>';
			tbl +='</thead>';
			//--->create table header > end


			//--->create table body > start
			tbl +='<tbody>';

				//--->create table body rows > start
				$.each(ajax_data, function(index, val)
				{
					//you can replace with your database row id
					var row_id = random_id();

					//loop through ajax row data
					tbl +='<tr row_id="'+row_id+'">';
						tbl +='<td ><div class="row_data" edit_type="click" col_name="fname">'+val['fname']+'</div></td>';
						tbl +='<td ><div class="row_data" edit_type="click" col_name="lname">'+val['lname']+'</div></td>';
						tbl +='<td ><div class="row_data" edit_type="click" col_name="email">'+val['email']+'</div></td>';

						//--->edit options > start
						tbl +='<td>';

							tbl +='<span class="btn_edit" > <a href="#" class="btn btn-link btn btn-default  " row_id="'+row_id+'" > Edit</a> </span>';

							//only show this button if edit button is clicked
							tbl +='<span class="btn_save"> <a href="#" class="btn btn-link btn btn-default "  row_id="'+row_id+'"> Save</a> | </span>';
							tbl +='<span class="btn_cancel"> <a href="#" class="btn btn-link btn btn-default " row_id="'+row_id+'"> Cancel</a> | </span>';

						tbl +='</td>';
						//--->edit options > end

					tbl +='</tr>';
				});

				//--->create table body rows > end

			tbl +='</tbody>';
			//--->create table body > end

		tbl +='</table>'
		//--->create data table > end

		//out put table data
		$(document).find('.tbl_user_data').html(tbl);

		$(document).find('.btn_save').hide();
		$(document).find('.btn_cancel').hide();


		//--->make div editable > start
		$(document).on('click', '.row_data', function(event)
		{
			event.preventDefault();

			if($(this).attr('edit_type') == 'button')
			{
				return false;
			}

			//make div editable
			$(this).closest('div').attr('contenteditable', 'true');
			//add bg css
			$(this).addClass('bg-warning').css('padding','5px');

			$(this).focus();
		})
		//--->make div editable > end


		//--->save single field data > start
		$(document).on('focusout', '.row_data', function(event)
		{
			event.preventDefault();

			if($(this).attr('edit_type') == 'button')
			{
				return false;
			}

			var row_id = $(this).closest('tr').attr('row_id');

			var row_div = $(this)
			.removeClass('bg-warning') //add bg css
			.css('padding','')

			var col_name = row_div.attr('col_name');
			var col_val = row_div.html();

			var arr = {};
			arr[col_name] = col_val;

			//use the "arr"	object for your ajax call
			$.extend(arr, {row_id:row_id});

			//out put to show
			$('.post_msg').html( '<pre class="bg-success">'+JSON.stringify(arr, null, 2) +'</pre>');

		})
		//--->save single field data > end


		//--->button > edit > start
		$(document).on('click', '.btn_edit', function(event)
		{
			event.preventDefault();
			var tbl_row = $(this).closest('tr');

			var row_id = tbl_row.attr('row_id');

			tbl_row.find('.btn_save').show();
			tbl_row.find('.btn_cancel').show();

			//hide edit button
			tbl_row.find('.btn_edit').hide();

			//make the whole row editable
			tbl_row.find('.row_data')
			.attr('contenteditable', 'true')
			.attr('edit_type', 'button')
			.addClass('bg-warning')
			.css('padding','3px')

			//--->add the original entry > start
			tbl_row.find('.row_data').each(function(index, val)
			{
				//this will help in case user decided to click on cancel button
				$(this).attr('original_entry', $(this).html());
			});
			//--->add the original entry > end

		});
		//--->button > edit > end


		//--->button > cancel > start
		$(document).on('click', '.btn_cancel', function(event)
		{
			event.preventDefault();

			var tbl_row = $(this).closest('tr');

			var row_id = tbl_row.attr('row_id');

			//hide save and cacel buttons
			tbl_row.find('.btn_save').hide();
			tbl_row.find('.btn_cancel').hide();

			//show edit button
			tbl_row.find('.btn_edit').show();

			//make the whole row editable
			tbl_row.find('.row_data')
			.attr('edit_type', 'click')
			.removeClass('bg-warning')
			.css('padding','')

			tbl_row.find('.row_data').each(function(index, val)
			{
				$(this).html( $(this).attr('original_entry') );
			});
		});
		//--->button > cancel > end


		//--->save whole row entery > start
		$(document).on('click', '.btn_save', function(event)
		{
			event.preventDefault();
			var tbl_row = $(this).closest('tr');

			var row_id = tbl_row.attr('row_id');


			//hide save and cacel buttons
			tbl_row.find('.btn_save').hide();
			tbl_row.find('.btn_cancel').hide();

			//show edit button
			tbl_row.find('.btn_edit').show();


			//make the whole row editable
			tbl_row.find('.row_data')
			.attr('edit_type', 'click')
			.removeClass('bg-warning')
			.css('padding','')

			//--->get row data > start
			var arr = {};
			tbl_row.find('.row_data').each(function(index, val)
			{
				var col_name = $(this).attr('col_name');
				var col_val  =  $(this).html();
				arr[col_name] = col_val;
			});
			//--->get row data > end

			//use the "arr"	object for your ajax call
			$.extend(arr, {row_id:row_id});

			//out put to show
			$('.post_msg').html( '<pre class="bg-success">'+JSON.stringify(arr, null, 2) +'</pre>')

			
		});
		//--->save whole row entery > end


	});
	</script>



	<div class="panel panel-default">
	  <div class="panel-heading"><b> Demo </b> </div>

	  <div class="panel-body">

		<div class="tbl_user_data"></div>

	  </div>

	</div>



	<div class="panel panel-default">
	  <div class="panel-heading"><b>HTML Table Edits/Upates</b> </div>

	  <div class="panel-body">

		<p>All the changes will be displayed below</p>
		<div class="post_msg"> </div>

	  </div>
	</div>
</body>

</html>
